---
import {
    defaultRatings,
    type kink,
    type kinklist,
    type positions,
    type template_revision,
} from "../../base";
import { Check } from "../../components/KinkCheck";
import Layout from "../../layouts/Layout.astro";

type partial_kink =
    | [string, positions]
    | [string, positions, number]
    | [string, positions, number, string];
type oldkcc = [string, string, { [k: string]: partial_kink[] }];

const kc001: oldkcc = [
    "0.1a",
    "2023-09-13T07:59:33Z",
    Object.fromEntries(
        Object.entries({
            General: [
                "Fellatio/Blowjobs",
                "Cunnilingus",
                "Face-Fucking",
                "Face-Sitting",
                "Handjobs",
                "Fingering",
                "Fisting",
                "Rough Sex",
                "Creampie",
                "Swallowing",
                "Facials",
                "Masturbation",
                "Anal Sex",
                "Anal Fingering",
                "Anal Masturbation",
                "Anal Fisting",
                "Pegging",
                "Anilingus/Rimming",
                "Toys",
                "Anal Toys",
            ],
            BDSM: [
                "Daddy/Little",
                "Master/Slave",
                "Master/Pet",
                "Femdom",
                "Maledom",
                "Power Exchange",
                "Humiliation/Embarrassment",
                "Degradation",
                "Name Calling",
                "Light Bondage",
                "Heavy Bondage",
                "Encasement",
                "Discipline",
                "Public Sex/Exhibition",
                "Rape",
                "Kidnapping",
                "Spanking",
                "Forced Orgasms",
                "Orgasm Denial",
                "Chastity",
                "Masturbation Instructions",
                "Servitude",
                "Sensation Play",
                "Electric Stimulation",
                "Breathing Play",
                "Choking",
                "Fisting",
                "Gags",
                "Begging",
                "Teasing",
                "Sounding/Urethral Insertion",
                "Genital Worship",
                "Body Worship",
            ],
            Kinks: [
                "Incest - Cousins",
                "Incest - Siblings",
                "Incest - Parents",
                "Incest - Children (Any age)",
                "Impregnation/Pregnancy",
                "Lactation/Milking/Nursing",
                "Feet",
                "Roleplay",
                "Ageplay",
                "Cheating/Cuckold/NTR",
                "Feminization",
                "Voyeur/Watching",
                "Double-Penetration",
                "Multi-Partner",
                "Furry-Roleplay",
                "Tickling",
                "Cumswapping",
                "Thighsex",
                "Titfuck",
                "Footjob",
                "Armpit Sex",
            ],
            Pain: [
                "Physical Pain",
                "Nipple Clamps",
                "Hard Spanking",
                "Whipping",
                "Slapping",
                "Biting",
                "Hot Wax",
                "Scratching",
                "Cock/Ball Slapping",
                "Vagina Slapping",
                "Clothespins",
                "Needles",
            ],
            Clothing: [
                "Clothed Sex",
                "Collars",
                "Latex",
                "Lingerie",
                "Stockings",
                "Crossdressing",
                "Forced Dressup",
                "Leather",
                "Socks",
                "Uniforms/Cosplay",
            ],
            Extreme: [
                "Scat",
                "Cutting",
                "Raceplay",
                "Bestiality",
                "Necrophilia",
                "Hard Rape",
                "Children",
                "Pee",
                "Blood",
                "Cannibalism",
                "Torture",
                "Genital Mutilation",
            ],
        }).map((x) => [x[0], x[1].map((y) => [y, [""]])]),
    ),
];

// TODO: KCC 0.1b with positions for 0.1a

const kc011: oldkcc = [
    "0.2a",
    "2023-09-24T05:05:17Z",
    {
        General: [
            ["Fellatio/Blowjobs", ["receive", "give"]],
            ["Cunnilingus", ["receive", "give"]],
            ["Face-Fucking", ["give", "receive"]],
            ["Face-Sitting", ["top", "bottom"]],
            ["Handjobs", ["give", "receive"]],
            ["Fingering", ["give", "receive"]],
            ["Fisting", ["give", "receive"]],
            ["Rough Sex", [""]],
            ["Creampie", ["give", "receive"]],
            ["Swallowing", ["top", "bottom"]],
            ["Facials", ["give", "receive"]],
            ["Masturbation", [""]],
            ["Anal Sex", ["top", "bottom"]],
            ["Anal Fingering", ["top", "bottom"]],
            ["Anal Masturbation", [""]],
            ["Anal Fisting", ["top", "bottom"]],
            ["Pegging", ["top", "bottom"]],
            ["Anilingus/Rimming", ["top", "bottom"]],
            ["Toys", [""]],
            ["Anal Toys", [""]],
        ],
        BDSM: [
            ["Little/Daddy*Mommy", ["dom", "sub"]],
            ["Slave/Master*Mistress", ["dom", "sub"]],
            ["Pet/Owner", ["dom", "sub"]],
            ["Femdom", ["dom", "sub"]],
            ["Maledom", ["dom", "sub"]],
            ["Power Exchange", ["dom", "sub"]],
            ["Humiliation/Embarrassment", ["dom", "sub"]],
            ["Degradation/Name Calling", ["dom", "sub"]],
            ["Bondage", ["dom", "sub"]],
            ["Encasement/Cages", ["dom", "sub"]],
            ["Discipline", ["dom", "sub"]],
            ["Public Sex/Exhibition", [""]],
            ["Rape", ["top", "bottom"]],
            ["Kidnapping", ["dom", "sub"]],
            ["Spanking", ["give", "receive"]],
            ["Forced Orgasms", ["dom", "sub"]],
            ["Orgasm Denial", ["dom", "sub"]],
            ["Chastity", ["dom", "sub"]],
            ["Masturbation Instructions", ["give", "receive"]],
            ["Servitude", ["dom", "sub"]],
            ["Sensation Play", ["dom", "sub"]],
            ["Electric Stimulation", ["dom", "sub"]],
            ["Breathing Play", ["dom", "sub"]],
            ["Choking", ["dom", "sub"]],
            ["Gags", ["dom", "sub"]],
            ["Begging", ["dom", "sub"]],
            ["Teasing", ["dom", "sub"]],
            ["Sounding/Urethral Insertion", ["dom", "sub"]],
            ["Genital Worship", ["dom", "sub"]],
            ["Body Worship", ["dom", "sub"]],
        ],
        Kinks: [
            ["Incest - Cousins", [""]],
            ["Incest - Siblings", [""]],
            ["Incest - Parents", [""]],
            ["Incest - Children (Any age)", [""]],
            ["Impregnation/Pregnancy", ["top", "bottom"]],
            ["Milking", ["dom", "sub"]],
            ["Nursing", ["dom", "sub"]],
            ["Feet", [""]],
            ["Pee", [""]],
            ["Roleplay", [""]],
            ["Ageplay", [""]],
            ["Cheating/Cuckold/NTR", ["dom", "sub"]],
            ["Feminization", ["dom", "sub"]],
            ["Voyeur/Watching", [""]],
            ["Double-Penetration", ["top", "bottom"]],
            ["Multi-Partner", ["top", "bottom"]],
            ["Furry-Roleplay", [""]],
            ["Tickling", ["dom", "sub"]],
            ["Cumswapping", [""]],
            ["Thighsex", ["top", "bottom"]],
            ["Titfuck", ["top", "bottom"]],
            ["Footjob", ["give", "receive"]],
            ["Armpit Sex", ["top", "bottom"]],
        ],
        Pain: [
            ["Physical Pain", ["give", "receive"]],
            ["Nipple Clamps", ["give", "receive"]],
            ["Hard Spanking", ["give", "receive"]],
            ["Whipping", ["give", "receive"]],
            ["Slapping", ["give", "receive"]],
            ["Biting", ["give", "receive"]],
            ["Hot Wax", ["give", "receive"]],
            ["Scratching", ["give", "receive"]],
            ["Cock/Ball Slapping", ["give", "receive"]],
            ["Vagina Slapping", ["give", "receive"]],
            ["Clothespins", ["give", "receive"]],
            ["Needles", ["give", "receive"]],
        ],
        Clothing: [
            ["Clothed Sex", [""]],
            ["Collars", ["dom", "sub"]],
            ["Latex", [""]],
            ["Lingerie", [""]],
            ["Stockings", [""]],
            ["Crossdressing", [""]],
            ["Forced Dressup", ["dom", "sub"]],
            ["Leather", [""]],
            ["Socks", [""]],
            ["Uniforms/Cosplay", [""]],
        ],
        Extreme: [
            ["Scat", [""]],
            ["Cutting", ["give", "receive"]],
            ["Raceplay", ["dom", "sub"]],
            ["Bestiality", [""]],
            ["Necrophilia", [""]],
            ["Hard Rape", ["top", "bottom"]],
            ["Children", [""]],
            ["Blood", [""]],
            ["Cannibalism", ["dom", "sub"]],
            ["Torture", ["dom", "sub"]],
            ["Genital Mutilation", ["give", "receive"]],
        ],
    },
];

const kc030: oldkcc = [
    "0.3",
    "2023-10-18T10:17:30Z",
    {
        General: [
            ["Fellatio/Blowjobs", ["receive", "give"]],
            ["Cunnilingus", ["receive", "give"]],
            ["Face-Fucking", ["give", "receive"]],
            ["Face-Sitting", ["top", "bottom"]],
            ["Handjobs", ["give", "receive"]],
            ["Fingering", ["give", "receive"]],
            ["Fisting", ["give", "receive"]],
            ["Rough Sex", [""]],
            ["Creampie", ["give", "receive"]],
            ["Swallowing", ["top", "bottom"]],
            ["Facials", ["give", "receive"]],
            ["Masturbation", [""]],
            ["Anal Masturbation", [""]],
            ["Anal Sex", ["top", "bottom"]],
            ["Anal Fingering", ["top", "bottom"]],
            ["Anal Fisting", ["top", "bottom"]],
            ["Pegging", ["top", "bottom"]],
            ["Anilingus/Rimming", ["top", "bottom"]],
        ],
        BDSM: [
            ["Little/Daddy*Mommy", ["dom", "sub"]],
            ["Slave/Master*Mistress", ["dom", "sub"]],
            ["Pet/Owner", ["dom", "sub"]],
            ["Femdom", ["dom", "sub"]],
            ["Maledom", ["dom", "sub"]],
            ["Power Exchange", ["dom", "sub"]],
            ["Humiliation/Embarrassment", ["dom", "sub"]],
            ["Degradation/Name Calling", ["dom", "sub"]],
            ["Bondage", ["dom", "sub"]],
            ["Encasement/Cages", ["dom", "sub"]],
            ["Discipline", ["dom", "sub"]],
            ["Rape/CNC", ["top", "bottom"]],
            ["Kidnapping", ["dom", "sub"]],
            ["Spanking", ["give", "receive"]],
            ["Forced Orgasms", ["dom", "sub"]],
            ["Orgasm Denial", ["dom", "sub"]],
            ["Chastity", ["dom", "sub"]],
            ["Masturbation Instructions", ["give", "receive"]],
            ["Servitude", ["dom", "sub"]],
            ["Sensation Play", ["dom", "sub"]],
            ["Electric Stimulation", ["dom", "sub"]],
            ["Breathing Play", ["dom", "sub"]],
            ["Choking", ["dom", "sub"]],
            ["Gags", ["dom", "sub"]],
            ["Begging", ["dom", "sub"]],
            ["Teasing", ["dom", "sub"]],
            ["Sounding/Urethral Insertion", ["dom", "sub"]],
            ["Worship", ["dom", "sub"]],
        ],
        Kinks: [
            ["Incest", ["cousins", "siblings"]],
            ["Incest (any age)", ["parents", "children"]],
            ["Impregnation/Pregnancy", ["top", "bottom"]],
            ["Milking", ["dom", "sub"]],
            ["Nursing", ["dom", "sub"]],
            ["Feet", [""]],
            ["Pee", ["dom", "sub"]],
            ["Roleplay", [""]],
            ["Ageplay", [""]],
            ["Diapers", [""]],
            ["Cheating/Cuckold/NTR", ["dom", "sub"]],
            ["Feminization/Sissy", ["dom", "sub"]],
            ["Exhibition/Voyeur", ["exhib", "voyeur"]],
            ["Double-Penetration", ["top", "bottom"]],
            ["Multi-Partner", ["top", "bottom"]],
            ["Tickling", ["dom", "sub"]],
            ["Cumswapping", [""]],
            ["Thighsex", ["top", "bottom"]],
            ["Titfuck", ["top", "bottom"]],
            ["Footjob", ["give", "receive"]],
            ["Armpit Sex", ["top", "bottom"]],
        ],
        Pain: [
            ["Physical Pain", ["give", "receive"]],
            ["Nipple Clamps", ["give", "receive"]],
            ["Hard Spanking", ["give", "receive"]],
            ["Whipping", ["give", "receive"]],
            ["Slapping", ["give", "receive"]],
            ["Biting", ["give", "receive"]],
            ["Hot Wax", ["give", "receive"]],
            ["Scratching", ["give", "receive"]],
            ["Cock/Ball Slapping", ["give", "receive"]],
            ["Vagina Slapping", ["give", "receive"]],
            ["Clothespins", ["give", "receive"]],
            ["Needles", ["give", "receive"]],
        ],
        Clothing: [
            ["Clothed Sex", [""]],
            ["Collars", ["dom", "sub"]],
            ["Latex", [""]],
            ["Lingerie", [""]],
            ["Stockings/Pantyhose", [""]],
            ["Crossdressing", [""]],
            ["Forced Dressup", ["dom", "sub"]],
            ["Leather", [""]],
            ["Socks", [""]],
            ["Uniforms", [""]],
            ["Cosplay", [""]],
            ["Furry", [""]],
        ],
        Extreme: [
            ["Scat", [""]],
            ["Cutting", ["give", "receive"]],
            ["Raceplay", ["dom", "sub"]],
            ["Bestiality", [""]],
            ["Necrophilia", [""]],
            ["Hard Rape", ["top", "bottom"]],
            ["Children", [""]],
            ["Blood", [""]],
            ["Cannibalism", ["dom", "sub"]],
            ["Torture", ["dom", "sub"]],
            ["Genital Mutilation", ["give", "receive"]],
        ],
    },
];

const kc040: oldkcc = [
    "0.4",
    "2023-11-04T03:02:48Z",
    {
        General: [
            ["Fellatio/Blowjobs", ["receive", "give"], 0],
            ["Cunnilingus", ["receive", "give"], 1],
            ["Face-Fucking", ["give", "receive"], 2],
            ["Face-Sitting", ["top", "bottom"], 3],
            ["Handjobs", ["give", "receive"], 4],
            ["Fingering", ["give", "receive"], 5],
            ["Fisting", ["give", "receive"], 6],
            ["Rough Sex", [""], 7],
            ["Creampie", ["give", "receive"], 8],
            ["Swallowing", ["top", "bottom"], 9],
            ["Facials", ["give", "receive"], 10],
            ["Masturbation", ["top", "anal/…"], 11],
            ["Anal Sex", ["top", "bottom"], 12],
            ["Anal Fingering", ["top", "bottom"], 13],
            ["Anal Fisting", ["top", "bottom"], 14],
            ["Pegging", ["top", "bottom"], 15],
            ["Anilingus/Rimming", ["top", "bottom"], 16],
        ],
        BDSM: [
            ["Little/Daddy*Mommy", ["dom", "sub"], 17],
            ["Slave/Master*Mistress", ["dom", "sub"], 18],
            ["Pet/Owner", ["dom", "sub"], 19],
            ["Power Exchange (24/7)", ["dom", "sub"], 22],
            ["Humiliation/Embarrassment", ["dom", "sub"], 23],
            ["Degradation/Name Calling", ["dom", "sub"], 24],
            ["Bondage", ["dom", "sub"], 25],
            ["Encasement/Cages", ["dom", "sub"], 26],
            ["Discipline", ["dom", "sub"], 27],
            ["Rape/CNC", ["top", "bottom"], 28],
            ["Kidnapping", ["dom", "sub"], 29],
            ["Spanking", ["give", "receive"], 30],
            ["Forced Orgasms", ["give", "receive"], 31],
            ["Orgasm Denial", ["dom", "sub"], 32],
            ["Chastity", ["dom", "sub"], 33],
            ["Masturbation Instructions", ["give", "receive"], 34],
            ["Servitude", ["dom", "sub"], 35],
            ["Sensation Play", ["dom", "sub"], 36],
            ["Electric Stimulation", ["dom", "sub"], 37],
            ["Breathing Play", ["dom", "sub"], 38],
            ["Choking", ["dom", "sub"], 39],
            ["Gags", ["dom", "sub"], 40],
            ["Begging", ["dom", "sub"], 41],
            ["Teasing", ["dom", "sub"], 42],
            ["Sounding/Urethral Insertion", ["dom", "sub"], 43],
            ["Worship", ["dom", "sub"], 44],
        ],
        Kinks: [
            ["Incest", ["cousins", "siblings"], 45],
            ["Incest (any age)", ["parents", "children"], 46],
            ["Impregnation/Pregnancy", ["top", "bottom"], 47],
            ["Milking", ["dom", "sub"], 48],
            ["Nursing", ["dom", "sub"], 49],
            ["Feet", [""], 50],
            ["Pee", ["dom", "sub"], 51],
            ["Roleplay", [""], 52],
            ["Diapers/ABDL", [""], 53],
            ["Cheating/Cuckold/NTR", ["dom", "sub"], 54],
            ["Feminization/Sissy", ["dom", "sub"], 55],
            ["Exhibition/Voyeur", ["exhib", "voyeur"], 56],
            ["Double-Penetration", ["top", "bottom"], 57],
            ["Multi-Partner", ["top", "bottom"], 58],
            ["Tickling", ["dom", "sub"], 59],
            ["Cumswapping", [""], 60],
            ["Thighsex", ["top", "bottom"], 61],
            ["Titfuck", ["top", "bottom"], 62],
            ["Footjob", ["give", "receive"], 63],
            ["Armpit Sex", ["top", "bottom"], 64],
        ],
        Pain: [
            ["Physical Pain", ["give", "receive"], 65],
            ["Nipple Clamps", ["give", "receive"], 66],
            ["Hard Spanking", ["give", "receive"], 67],
            ["Whipping", ["give", "receive"], 68],
            ["Slapping", ["give", "receive"], 69],
            ["Biting", ["give", "receive"], 70],
            ["Hot Wax", ["give", "receive"], 71],
            ["Scratching", ["give", "receive"], 72],
            ["Cock/Ball Slapping", ["give", "receive"], 73],
            ["Vagina Slapping", ["give", "receive"], 74],
            ["Clothespins", ["give", "receive"], 75],
            ["Needles", ["give", "receive"], 76],
        ],
        Clothing: [
            ["Clothed Sex", [""], 77],
            ["Collars", ["dom", "sub"], 78],
            ["Latex", [""], 79],
            ["Lingerie", [""], 80],
            ["Stockings/Pantyhose", [""], 81],
            ["Crossdressing", [""], 82],
            ["Forced Dressup", ["dom", "sub"], 83],
            ["Leather", [""], 84],
            ["Socks", [""], 85],
            ["Uniforms", [""], 86],
            ["Cosplay", [""], 87],
            ["Furry", [""], 88],
        ],
        Extreme: [
            ["Scat", [""], 89],
            ["Cutting", ["give", "receive"], 90],
            ["Raceplay", ["dom", "sub"], 91],
            ["Bestiality", [""], 92],
            ["Necrophilia", [""], 93],
            ["Hard Rape", ["top", "bottom"], 94],
            ["Children", [""], 95],
            ["Blood", [""], 96],
            ["Cannibalism", ["dom", "sub"], 97],
            ["Torture", ["dom", "sub"], 20],
            ["Genital Mutilation", ["give", "receive"], 21],
        ],
    },
];

const kc050: oldkcc = [
    "0.5",
    "2023-11-28T11:07:29Z",
    {
        General: [
            ["Fellatio/Blowjobs", ["receive", "give"], 0],
            ["Cunnilingus", ["receive", "give"], 1],
            ["Face-Fucking", ["give", "receive"], 2],
            ["Face-Sitting", ["top", "bottom"], 3],
            ["Handjobs", ["give", "receive"], 4],
            ["Vaginal Fingering", ["give", "receive"], 5],
            ["Vaginal Fisting", ["give", "receive"], 6],
            ["Rough Sex", [""], 7],
            ["Creampie", ["give", "receive"], 8],
            ["Swallowing", ["top", "bottom"], 9],
            ["Facials", ["give", "receive"], 10],
            ["Masturbation", ["top", "anal/…"], 11],
            ["Anal Sex", ["top", "bottom"], 12],
            ["Anal Fingering", ["top", "bottom"], 13],
            ["Anal Fisting", ["top", "bottom"], 14],
            ["Pegging", ["top", "bottom"], 15],
            ["Anilingus/Rimming", ["top", "bottom"], 16],
        ],
        BDSM: [
            ["Little/Daddy*Mommy", ["dom", "sub"], 17],
            ["Slave/Master*Mistress", ["dom", "sub"], 18],
            ["Pet/Owner", ["dom", "sub"], 19],
            ["Power Exchange (24/7)", ["dom", "sub"], 22],
            ["Humiliation/Embarrassment", ["dom", "sub"], 23],
            ["Degradation/Name Calling", ["dom", "sub"], 24],
            ["Bondage", ["dom", "sub"], 25],
            ["Encasement/Cages", ["dom", "sub"], 26],
            ["Discipline", ["dom", "sub"], 27],
            ["Rape/CNC", ["top", "bottom"], 28],
            ["Kidnapping", ["dom", "sub"], 29],
            ["Spanking", ["give", "receive"], 30],
            ["Forced Orgasms", ["give", "receive"], 31],
            ["Orgasm Denial", ["dom", "sub"], 32],
            ["Chastity", ["dom", "sub"], 33],
            ["Masturbation Instructions", ["give", "receive"], 34],
            ["Servitude", ["dom", "sub"], 35],
            ["Sensation Play", ["dom", "sub"], 36],
            ["Electric Stimulation", ["dom", "sub"], 37],
            ["Breathing Play", ["dom", "sub"], 38],
            ["Choking", ["dom", "sub"], 39],
            ["Gags", ["dom", "sub"], 40],
            ["Begging", ["dom", "sub"], 41],
            ["Teasing", ["dom", "sub"], 42],
            ["Sounding/Urethral Insertion", ["dom", "sub"], 43],
            ["Worship", ["dom", "sub"], 44],
        ],
        Kinks: [
            ["Incest", ["cousins", "siblings"], 45],
            ["Incest (any age)", ["parents", "children"], 46],
            ["Impregnation/Pregnancy", ["top", "bottom"], 47],
            ["Milking", ["dom", "sub"], 48],
            ["Nursing", ["dom", "sub"], 49],
            ["Feet", [""], 50],
            ["Pee", ["dom", "sub"], 51],
            ["Roleplay", [""], 52],
            ["Diapers/ABDL", [""], 53],
            ["Cheating/Cuckold/NTR", ["dom", "sub"], 54],
            ["Feminization/Sissy", ["dom", "sub"], 55],
            ["Exhibition/Voyeur", ["exhib", "voyeur"], 56],
            ["Double-Penetration", ["top", "bottom"], 57],
            ["Multi-Partner", ["top", "bottom"], 58],
            ["Tickling", ["dom", "sub"], 59],
            ["Cumswapping", [""], 60],
            ["Thighsex", ["top", "bottom"], 61],
            ["Titfuck", ["top", "bottom"], 62],
            ["Footjob", ["give", "receive"], 63],
            ["Armpit Sex", ["top", "bottom"], 64],
        ],
        Pain: [
            ["Physical Pain", ["give", "receive"], 65],
            ["Nipple Clamps", ["give", "receive"], 66],
            ["Hard Spanking", ["give", "receive"], 67],
            ["Whipping", ["give", "receive"], 68],
            ["Slapping", ["give", "receive"], 69],
            ["Biting", ["give", "receive"], 70],
            ["Hot Wax", ["give", "receive"], 71],
            ["Scratching", ["give", "receive"], 72],
            ["Cock/Ball Slapping", ["give", "receive"], 73],
            ["Vagina Slapping", ["give", "receive"], 74],
            ["Clothespins", ["give", "receive"], 75],
            ["Needles", ["give", "receive"], 76],
        ],
        Clothing: [
            ["Clothed Sex", [""], 77],
            ["Collars", ["dom", "sub"], 78],
            ["Latex", [""], 79],
            ["Lingerie", [""], 80],
            ["Stockings/Pantyhose", [""], 81],
            ["Crossdressing", [""], 82],
            ["Forced Dressup", ["dom", "sub"], 83],
            ["Leather", [""], 84],
            ["Socks", [""], 85],
            ["Uniforms", [""], 86],
            ["Cosplay", [""], 87],
            ["Furry", [""], 88],
        ],
        Extreme: [
            ["Scat", [""], 89],
            ["Cutting", ["give", "receive"], 90],
            ["Raceplay", ["dom", "sub"], 91],
            ["Bestiality", [""], 92],
            ["Necrophilia", [""], 93],
            ["Hard Rape", ["top", "bottom"], 94],
            ["Children", [""], 95],
            ["Blood", [""], 96],
            ["Cannibalism", ["dom", "sub"], 97],
            ["Torture", ["dom", "sub"], 20],
            ["Genital Mutilation", ["give", "receive"], 21],
        ],
    },
];

const kc060: oldkcc = [
    "0.6",
    "2023-12-29T23:39:18Z",
    {
        General: [
            ["Fellatio/Blowjobs", ["receive", "give"], 0],
            [
                "Cunnilingus",
                ["receive", "give"],
                1,
                "giver licks receiver's vagina",
            ],
            ["Face-Fucking", ["give", "receive"], 2],
            ["Face-Sitting", ["top", "bottom"], 3, "top sits on bottom's face"],
            ["Handjobs", ["give", "receive"], 4],
            ["Vaginal Penetration", ["top", "bottom"], 98],
            ["Vaginal Fingering", ["give", "receive"], 5],
            ["Vaginal Fisting", ["give", "receive"], 6],
            ["Rough Sex", [""], 7],
            [
                "Creampie",
                ["give", "receive"],
                8,
                "giver cums in receiver's ass or vagina",
            ],
            ["Swallowing", ["top", "bottom"], 9],
            [
                "Facials",
                ["give", "receive"],
                10,
                "giver cums on receiver's face",
            ],
            ["Masturbation", ["top", "anal/…"], 11],
            ["Anal Penetration", ["top", "bottom"], 12],
            ["Anal Fingering", ["top", "bottom"], 13],
            ["Anal Fisting", ["top", "bottom"], 14],
            [
                "Pegging",
                ["top", "bottom"],
                15,
                "top anally penetrates bottom with a strap-on",
            ],
            [
                "Anilingus/Rimming",
                ["receive", "give"],
                16,
                "bottom licks top's asshole",
            ],
        ],
        BDSM: [
            ["Little/Daddy*Mommy", ["dom", "sub"], 17],
            ["Slave/Master*Mistress", ["dom", "sub"], 18],
            ["Pet/Owner", ["dom", "sub"], 19],
            [
                "Power Exchange (24/7)",
                ["dom", "sub"],
                22,
                "dom controls aspects of sub's everyday life",
            ],
            ["Humiliation/Embarrassment", ["dom", "sub"], 23],
            ["Degradation/Name Calling", ["dom", "sub"], 24],
            ["Bondage", ["dom", "sub"], 25, "dom ties sub up"],
            ["Encasement/Cages", ["dom", "sub"], 26],
            ["Discipline", ["dom", "sub"], 27],
            ["Rape/CNC", ["top", "bottom"], 28],
            ["Kidnapping", ["dom", "sub"], 29],
            ["Spanking", ["give", "receive"], 30],
            ["Forced Orgasms", ["give", "receive"], 31],
            ["Orgasm Denial", ["dom", "sub"], 32],
            ["Chastity", ["dom", "sub"], 33],
            ["Masturbation Instructions", ["give", "receive"], 34],
            ["Servitude", ["dom", "sub"], 35],
            ["Sensation Play", ["dom", "sub"], 36],
            ["Electric Stimulation", ["dom", "sub"], 37],
            [
                "Breathing Play",
                ["dom", "sub"],
                38,
                "dom restricts sub's breathing",
            ],
            ["Choking", ["dom", "sub"], 39],
            ["Gags", ["dom", "sub"], 40],
            ["Begging", ["dom", "sub"], 41],
            ["Teasing", ["dom", "sub"], 42],
            ["Sounding/Urethral Insertion", ["dom", "sub"], 43],
            ["Worship", ["dom", "sub"], 44],
        ],
        Kinks: [
            ["Incest", ["cousins", "siblings"], 45],
            ["Incest (any age)", ["parents", "children"], 46],
            ["Impregnation/Pregnancy", ["top", "bottom"], 47],
            ["Milking", ["dom", "sub"], 48],
            ["Nursing", ["dom", "sub"], 49, 'dom "breast-feeds" sub'],
            ["Feet", [""], 50],
            ["Pee", ["dom", "sub"], 51],
            ["Roleplay", [""], 52],
            ["Diapers/ABDL", [""], 53],
            ["Cheating/Cuckold/NTR", ["dom", "sub"], 54],
            ["Feminization/Sissy", ["dom", "sub"], 55],
            ["Exhibition/Voyeur", ["exhib", "voyeur"], 56],
            ["Double-Penetration", ["top", "bottom"], 57],
            ["Multi-Partner", ["top", "bottom"], 58],
            ["Tickling", ["dom", "sub"], 59],
            ["Cumswapping", [""], 60],
            ["Thighsex", ["top", "bottom"], 61],
            ["Titfuck", ["top", "bottom"], 62],
            ["Footjob", ["give", "receive"], 63],
            ["Armpit Sex", ["top", "bottom"], 64],
        ],
        Pain: [
            ["Physical Pain", ["give", "receive"], 65],
            ["Nipple Clamps", ["give", "receive"], 66],
            ["Hard Spanking", ["give", "receive"], 67],
            ["Whipping", ["give", "receive"], 68],
            ["Slapping", ["give", "receive"], 69],
            ["Biting", ["give", "receive"], 70],
            ["Hot Wax", ["give", "receive"], 71],
            ["Scratching", ["give", "receive"], 72],
            ["Cock/Ball Slapping", ["give", "receive"], 73],
            ["Vagina Slapping", ["give", "receive"], 74],
            ["Clothespins", ["give", "receive"], 75],
            ["Needles", ["give", "receive"], 76],
        ],
        Clothing: [
            ["Clothed Sex", [""], 77],
            [
                "Collars",
                ["dom", "sub"],
                78,
                "sub wears a collar, which might have a leash for dom to pull on",
            ],
            ["Latex", [""], 79],
            ["Lingerie", [""], 80],
            ["Stockings/Pantyhose", [""], 81],
            ["Crossdressing", [""], 82],
            ["Forced Dressup", ["dom", "sub"], 83],
            ["Leather", [""], 84],
            ["Socks", [""], 85],
            ["Uniforms", [""], 86],
            ["Cosplay", [""], 87],
            ["Furry", [""], 88],
        ],
        Extreme: [
            ["Scat", [""], 89],
            ["Cutting", ["give", "receive"], 90],
            ["Raceplay", ["dom", "sub"], 91],
            ["Bestiality", [""], 92],
            ["Necrophilia", [""], 93],
            ["Hard Rape", ["top", "bottom"], 94],
            ["Children", [""], 95],
            ["Blood", [""], 96],
            ["Cannibalism", ["dom", "sub"], 97],
            ["Torture", ["dom", "sub"], 20],
            ["Genital Mutilation", ["give", "receive"], 21],
        ],
    },
];

const ids: [string, positions, number][] = [
    ["Fellatio/Blowjobs", ["receive", "give"], 0],
    ["Cunnilingus", ["receive", "give"], 1],
    ["Face-Fucking", ["give", "receive"], 2],
    ["Face-Sitting", ["top", "bottom"], 3],
    ["Handjobs", ["give", "receive"], 4],
    ["Vaginal Penetration", ["top", "bottom"], 98],
    ["Vaginal Fingering", ["give", "receive"], 5],
    ["Vaginal Fisting", ["give", "receive"], 6],
    ["Rough Sex", [""], 7],
    ["Creampie", ["give", "receive"], 8],
    ["Swallowing", ["top", "bottom"], 9],
    ["Facials", ["give", "receive"], 10],
    ["Masturbation", ["top", "anal/…"], 11],
    ["Anal Penetration", ["top", "bottom"], 12],
    ["Anal Fingering", ["top", "bottom"], 13],
    ["Anal Fisting", ["top", "bottom"], 14],
    ["Pegging", ["top", "bottom"], 15],
    ["Anilingus/Rimming", ["receive", "give"], 16],
    ["Little/Daddy*Mommy", ["dom", "sub"], 17],
    ["Slave/Master*Mistress", ["dom", "sub"], 18],
    ["Pet/Owner", ["dom", "sub"], 19],
    ["Power Exchange (24/7)", ["dom", "sub"], 22],
    ["Humiliation/Embarrassment", ["dom", "sub"], 23],
    ["Degradation/Name Calling", ["dom", "sub"], 24],
    ["Bondage", ["dom", "sub"], 25],
    ["Encasement/Cages", ["dom", "sub"], 26],
    ["Discipline", ["dom", "sub"], 27],
    ["Rape/CNC", ["top", "bottom"], 28],
    ["Kidnapping", ["dom", "sub"], 29],
    ["Spanking", ["give", "receive"], 30],
    ["Forced Orgasms", ["give", "receive"], 31],
    ["Orgasm Denial", ["dom", "sub"], 32],
    ["Chastity", ["dom", "sub"], 33],
    ["Masturbation Instructions", ["give", "receive"], 34],
    ["Servitude", ["dom", "sub"], 35],
    ["Sensation Play", ["dom", "sub"], 36],
    ["Electric Stimulation", ["dom", "sub"], 37],
    ["Breathing Play", ["dom", "sub"], 38],
    ["Choking", ["dom", "sub"], 39],
    ["Gags", ["dom", "sub"], 40],
    ["Begging", ["dom", "sub"], 41],
    ["Teasing", ["dom", "sub"], 42],
    ["Sounding/Urethral Insertion", ["dom", "sub"], 43],
    ["Worship", ["dom", "sub"], 44],
    ["Incest", ["cousins", "siblings"], 45],
    ["Incest (any age)", ["parents", "children"], 46],
    ["Impregnation/Pregnancy", ["top", "bottom"], 47],
    ["Milking", ["dom", "sub"], 48],
    ["Nursing", ["dom", "sub"], 49],
    ["Feet", [""], 50],
    ["Pee", ["dom", "sub"], 51],
    ["Roleplay", [""], 52],
    ["Diapers/ABDL", [""], 53],
    ["Cheating/Cuckold/NTR", ["dom", "sub"], 54],
    ["Feminization/Sissy", ["dom", "sub"], 55],
    ["Exhibition/Voyeur", ["exhib", "voyeur"], 56],
    ["Double-Penetration", ["top", "bottom"], 57],
    ["Multi-Partner", ["top", "bottom"], 58],
    ["Tickling", ["dom", "sub"], 59],
    ["Cumswapping", [""], 60],
    ["Thighsex", ["top", "bottom"], 61],
    ["Titfuck", ["top", "bottom"], 62],
    ["Footjob", ["give", "receive"], 63],
    ["Armpit Sex", ["top", "bottom"], 64],
    ["Physical Pain", ["give", "receive"], 65],
    ["Nipple Clamps", ["give", "receive"], 66],
    ["Hard Spanking", ["give", "receive"], 67],
    ["Whipping", ["give", "receive"], 68],
    ["Slapping", ["give", "receive"], 69],
    ["Biting", ["give", "receive"], 70],
    ["Hot Wax", ["give", "receive"], 71],
    ["Scratching", ["give", "receive"], 72],
    ["Cock/Ball Slapping", ["give", "receive"], 73],
    ["Vagina Slapping", ["give", "receive"], 74],
    ["Clothespins", ["give", "receive"], 75],
    ["Needles", ["give", "receive"], 76],
    ["Clothed Sex", [""], 77],
    ["Collars", ["dom", "sub"], 78],
    ["Latex", [""], 79],
    ["Lingerie", [""], 80],
    ["Stockings/Pantyhose", [""], 81],
    ["Crossdressing", [""], 82],
    ["Forced Dressup", ["dom", "sub"], 83],
    ["Leather", [""], 84],
    ["Socks", [""], 85],
    ["Uniforms", [""], 86],
    ["Cosplay", [""], 87],
    ["Furry", [""], 88],
    ["Scat", [""], 89],
    ["Cutting", ["give", "receive"], 90],
    ["Raceplay", ["dom", "sub"], 91],
    ["Bestiality", [""], 92],
    ["Necrophilia", [""], 93],
    ["Hard Rape", ["top", "bottom"], 94],
    ["Children", [""], 95],
    ["Blood", [""], 96],
    ["Cannibalism", ["dom", "sub"], 97],
    ["Torture", ["dom", "sub"], 20],
    ["Genital Mutilation", ["give", "receive"], 21],
    ["Daddy/Little", [""], 17],
    ["Anal Sex", ["top", "bottom"], 12],
    ["Master/Slave", [""], 18],
    ["Master/Pet", [""], 19],
];

function findId([kink, pos]: [string, positions]): number {
    const stored = ids.find(([k, p], i) => {
        if (!k.toLowerCase().includes(kink.toLowerCase())) return false;
        if (p.length === 1) {
            ids[i][1] = pos;
            return true;
        }
        return (
            pos.length === 1 || (pos[0][0] !== p[1][0] && pos[1][0] !== p[0][0])
        );
    });
    if (stored) return stored[2];
    const id = Math.max(...ids.map(([, , id]) => id)) + 1;
    ids.push([kink, pos, id]);
    return id;
}

const versions: template_revision[] = [
    kc001,
    kc011,
    kc030,
    kc040,
    kc050,
    kc060,
].map(([v, c, k]) => ({
    id: "aed3291f-73c5-4939-ad80-829bd9953bb4",
    version: v,
    created: new Date(c),
    kinks: Object.entries(k).map(([cat, kinks]) => [
        cat,
        kinks
            .map<[string, positions, number, string | undefined]>(
                ([kink, pos, id, desc]) => [
                    kink,
                    pos,
                    id ?? findId([kink, pos]),
                    desc,
                ],
            )
            .map<kink>(([kink, pos, id, desc]) =>
                desc ? [kink, pos, id, desc] : [kink, pos, id],
            ),
    ]),
}));

const goodDate = (d: Date) =>
    d.getUTCFullYear() +
    "-" +
    // what the fuck, javascript???
    (d.getUTCMonth() + 1).toString().padStart(2, "0") +
    "-" +
    d.getUTCDate().toString().padStart(2, "0") +
    " " +
    d.getUTCHours().toString().padStart(2, "0") +
    ":" +
    d.getUTCMinutes().toString().padStart(2, "0") +
    ":" +
    d.getUTCSeconds().toString().padStart(2, "0");
---

<Layout title="Old KinkCheck Classics">
    <div class="column">
        <ul>
            {
                ids.map(([kink, pos, id]) => (
                    <li>
                        {id} {kink} ({pos.join(", ")})
                    </li>
                ))
            }
        </ul>
        <code>id,version,created,kinks</code>
        {
            versions.map(({ id, version, created, kinks }) => (
                <code>
                    {[
                        id,
                        version,
                        goodDate(created),
                        `"${JSON.stringify(kinks).replaceAll('"', '""')}"`,
                    ].join(",")}
                </code>
            ))
        }
        <div class="row">
            {
                versions
                    .map(({ id, version, created, kinks }) => ({
                        id,
                        version,
                        created,
                        kinks: kinks.map(([cat, kinks]) => [
                            cat,
                            kinks.map(([kink, pos, id]) => [
                                `${kink} (${id})`,
                                pos,
                                id,
                            ]),
                        ]) as kinklist,
                    }))
                    .map((x) => (
                        <div class="kc">
                            <h2>
                                {x.version} ({x.created})
                            </h2>
                            <Check {...x} ratings={defaultRatings(x.kinks)} />
                        </div>
                    ))
            }
        </div>
    </div>
</Layout>

<style>
    :global(div#content) {
        max-width: 2420px;
    }
    .column {
        display: flex;
        flex-direction: column;
        row-gap: 0.5em;
    }
    .row {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
    }
    .kc {
        width: 1200px;
    }
</style>
